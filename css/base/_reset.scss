/* Universal box-sizing */
*, *::before, *::after {
  box-sizing: border-box;
}

/* Root CSS variables for colors, sizing, and breakpoints */
:root {
  --text-color: #222222;
  --background-color: #fafafa;
  --secondary-color: #f5f7fa;
  --sidebar-width: 280px;
  --toggle-hit-area: 44px;
  --mobile-breakpoint: 768px;
  --max-content-width: 960px;
  --base-padding: 1.5rem;
  --base-font-size: 1rem;
  --line-height: 1.5;
  --transition-speed: 0.35s;
  --transition-ease: cubic-bezier(0.4, 0, 0.2, 1);
  --font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,
    Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
}

/* Base styles */
body {
  font-family: var(--font-family);
  max-width: var(--max-content-width);
  margin: 0 auto;
  padding: var(--base-padding) var(--base-padding) var(--base-padding) calc(var(--toggle-hit-area) + 2.5rem);
  font-size: var(--base-font-size);
  line-height: var(--line-height);
  color: var(--text-color);
  background-color: var(--secondary-color);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -webkit-text-size-adjust: 100%;
  
  /* Smooth transition for padding when sidebar toggles */
  transition: padding var(--transition-speed) var(--transition-ease);
  
  /* Enable better text rendering */
  text-rendering: optimizeLegibility;
}

/* When sidebar is open, add padding-left to body */
body.with-sidebar {
  padding-left: var(--sidebar-width);
}

/* Fluid typography scaling for smaller devices */
@media (max-width: 480px) {
  body {
    font-size: 0.9rem;
    padding: 1rem 1rem 1rem 1rem;
  }
}

/* Responsive adjustments for tablet/mobile */
@media (max-width: var(--mobile-breakpoint)) {
  body, body.with-sidebar {
    max-width: 100%;
    margin: 0;
    padding-left: var(--base-padding);
    padding-right: var(--base-padding);
  }
}

/* Accessibility: visually hidden elements */
.visually-hidden {
  position: absolute !important;
  width: 1px !important;
  height: 1px !important;
  padding: 0 !important;
  margin: -1px !important;
  overflow: hidden !important;
  clip: rect(0 0 0 0) !important;
  clip-path: inset(50%) !important;
  border: 0 !important;
  white-space: nowrap !important;
}

/* Optional: smoother scrolling */
html {
  scroll-behavior: smooth;
}